<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
    const TELEGRAM_BOT_TOKEN = "7932574102:AAFQvlNoBw2AWpRuHO7DWlBnRWyA1DhOGuE"; // Βάλε το token του bot σου
    const TELEGRAM_CHAT_ID = "7336951445"; // Βάλε το user ID σου

    function downloadImage() {
        const stamp = document.querySelector(".only-export");
        const button = document.querySelector(".no-export");

        stamp.style.display = "block";
        button.style.display = "none";

        html2canvas(document.querySelector("#capture")).then(canvas => {
            canvas.toBlob(blob => {
                const formData = new FormData();
                formData.append("chat_id", TELEGRAM_CHAT_ID);
                formData.append("caption", "📄 Νέο επίσημο έγγραφο τιμωρίας Μπόμπου!");
                formData.append("photo", blob, "timoria_bobos.png");

                fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendPhoto`, {
                    method: "POST",
                    body: formData
                }).then(response => {
                    if (response.ok) {
                        alert("Το έγγραφο εστάλη στο Telegram!");
                    } else {
                        alert("Κάτι πήγε στραβά με την αποστολή στο Telegram.");
                    }
                    stamp.style.display = "none";
                    button.style.display = "block";
                });
            });
        });
    }
</script>
