<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Academic Portal 2026</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #5c6bc0; /* Indigo Modern */
            --primary-dark: #3949ab;
            --accent: #ff7043; /* Deep Orange */
            --bg-body: #f4f6f9;
            --bg-card: #ffffff;
            --text-main: #2c3e50;
            --text-muted: #7f8c8d;
            --success: #66bb6a;
            --danger: #ef5350;
            --shadow: 0 4px 12px rgba(0,0,0,0.05);
            --radius: 16px;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-body);
            margin: 0; padding: 0;
            color: var(--text-main);
            height: 100vh;
            overflow: hidden; /* Prevent body scroll, handle in app-container */
            display: flex; justify-content: center;
        }

        /* Container Ï€Î¿Ï… Î¼Î¹Î¼ÎµÎ¯Ï„Î±Î¹ ÎºÎ¹Î½Î·Ï„ÏŒ */
        .app-container {
            width: 100%; max-width: 480px; height: 100%;
            background: var(--bg-body);
            position: relative; display: flex; flex-direction: column;
            overflow: hidden; box-shadow: 0 0 30px rgba(0,0,0,0.1);
        }

        /* --- HEADER --- */
        .header {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 15px 20px;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            z-index: 50; flex-shrink: 0;
        }
        .header h1 { font-size: 18px; font-weight: 700; color: var(--primary-dark); margin: 0; }
        .avatar {
            width: 36px; height: 36px; background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 14px; font-weight: 600; box-shadow: 0 2px 5px rgba(92, 107, 192, 0.4);
        }

        /* --- SCROLLABLE CONTENT --- */
        .content-area {
            flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 90px;
            scroll-behavior: smooth;
        }

        /* --- CARDS --- */
        .course-card {
            background: var(--bg-card); border-radius: var(--radius);
            padding: 20px; margin-bottom: 18px;
            display: flex; align-items: center; gap: 15px;
            box-shadow: var(--shadow); border: 1px solid transparent;
            transition: all 0.2s ease; cursor: pointer; position: relative; overflow: hidden;
        }
        .course-card:active { transform: scale(0.97); }
        .course-card::after {
            content: 'âœ'; position: absolute; right: 20px; color: #ddd; font-size: 14px;
        }

        .course-icon {
            width: 55px; height: 55px; border-radius: 12px; flex-shrink: 0;
            display: flex; align-items: center; justify-content: center; font-size: 24px;
        }
        /* Icon Gradients */
        .grad-1 { background: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 100%); }
        .grad-2 { background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); }
        .grad-3 { background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); }
        .grad-4 { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
        .grad-exam { background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%); color: white; }

        .course-info h3 { margin: 0 0 5px 0; font-size: 15px; font-weight: 600; }
        .course-info p { margin: 0; font-size: 12px; color: var(--text-muted); }
        
        .badge {
            display: inline-block; font-size: 10px; padding: 3px 8px; 
            border-radius: 20px; background: #f0f2f5; color: #666; font-weight: 600; margin-top: 5px;
        }

        /* --- SCREENS (Transitions) --- */
        .screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-body); z-index: 100;
            display: flex; flex-direction: column;
            transform: translateX(100%); transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
        }
        .screen.active { transform: translateX(0); }

        .screen-header {
            background: white; padding: 15px; display: flex; align-items: center; gap: 15px;
            border-bottom: 1px solid #eee; flex-shrink: 0;
        }
        .back-btn { background: none; border: none; font-size: 24px; color: var(--primary); cursor: pointer; padding: 0; }
        .screen-title { font-weight: 600; font-size: 16px; margin: 0; }

        /* --- COURSE DETAILS --- */
        .prof-section {
            background: white; padding: 20px; border-radius: var(--radius);
            box-shadow: var(--shadow); margin-bottom: 20px;
        }
        .prof-label { font-size: 11px; text-transform: uppercase; color: var(--text-muted); letter-spacing: 1px; }
        .prof-name { font-weight: 600; font-size: 16px; margin-top: 2px; color: var(--primary); }
        .course-desc { margin-top: 10px; font-size: 14px; line-height: 1.6; color: #555; }

        /* --- FILES LIST --- */
        .file-list { display: flex; flex-direction: column; gap: 10px; }
        .file-item {
            background: white; padding: 15px; border-radius: 12px;
            display: flex; align-items: center; gap: 15px;
            border: 1px solid #eee; cursor: pointer;
        }
        .file-item:active { background: #f9f9f9; }
        .file-icon-box {
            width: 40px; height: 40px; background: #eee; border-radius: 8px;
            display: flex; align-items: center; justify-content: center; font-size: 20px;
        }

        /* --- TELEGRAM QUESTION PORTAL --- */
        .question-portal {
            margin-top: 30px; background: #fff; padding: 20px; border-radius: var(--radius);
            border: 1px solid #e0e0e0; border-left: 4px solid var(--accent);
            box-shadow: var(--shadow);
        }
        .portal-title { font-size: 14px; font-weight: 700; color: var(--text-main); margin-bottom: 15px; display: flex; align-items: center; gap: 8px; }
        .portal-input {
            width: 100%; border: 1px solid #ddd; border-radius: 10px; padding: 12px;
            font-family: inherit; font-size: 14px; resize: none; height: 80px;
            margin-bottom: 10px; outline: none; transition: border 0.2s;
        }
        .portal-input:focus { border-color: var(--primary); }
        .send-btn {
            background: var(--primary); color: white; border: none; padding: 10px 20px;
            border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;
            width: 100%; display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        .send-btn:active { background: var(--primary-dark); transform: scale(0.98); }

        /* --- TOAST NOTIFICATION --- */
        .toast {
            position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%) translateY(100px);
            background: rgba(44, 62, 80, 0.9); color: white; padding: 12px 24px;
            border-radius: 30px; font-size: 13px; z-index: 200; opacity: 0;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex; align-items: center; gap: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

        /* --- BOTTOM NAV --- */
        .bottom-nav {
            position: absolute; bottom: 0; width: 100%; background: white;
            display: flex; justify-content: space-around; padding: 12px 0;
            border-top: 1px solid #eee; z-index: 60;
            padding-bottom: max(12px, env(safe-area-inset-bottom)); /* iPhone Safe Area */
        }
        .nav-item {
            display: flex; flex-direction: column; align-items: center; gap: 4px;
            color: #999; font-size: 10px; font-weight: 500; cursor: pointer;
        }
        .nav-item svg { width: 24px; height: 24px; fill: currentColor; }
        .nav-item.active { color: var(--primary); }

        /* --- DOCUMENT STYLES (PDF/PPT) --- */
        .doc-page { background: white; padding: 30px; min-height: 100%; font-family: 'Georgia', serif; line-height: 1.8; }
        .slide-wrapper {
            background: #1a1a1a; height: 100%; display: flex; flex-direction: column;
            justify-content: center; align-items: center; color: white;
        }
        .slide-card {
            width: 90%; aspect-ratio: 16/9; background: white; border-radius: 12px;
            color: #333; padding: 25px; display: flex; flex-direction: column;
            box-shadow: 0 0 50px rgba(255,255,255,0.1); position: relative;
        }

        /* --- EXAM STYLES --- */
        .exam-score-table { width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 13px; }
        .exam-score-table td { padding: 8px; border-bottom: 1px solid #eee; }
        .grade-pill { padding: 4px 8px; border-radius: 4px; font-weight: bold; color: white; font-size: 11px; }

    </style>
</head>
<body>

<div class="app-container">
    
    <div id="screen-dashboard" style="height: 100%; display: flex; flex-direction: column;">
        <div class="header">
            <h1>MyUni Portal</h1>
            <div class="avatar">EG</div>
        </div>

        <div class="content-area">
            <h2 style="font-size: 14px; color: var(--text-muted); margin-bottom: 15px; text-transform: uppercase; letter-spacing: 1px;">Î¤ÏÎµÏ‡Î¿Î½ Î•Î¾Î±Î¼Î·Î½Î¿</h2>

            <div class="course-card" onclick="openCourse(1)">
                <div class="course-icon grad-1">ğŸ§˜â€â™€ï¸</div>
                <div class="course-info">
                    <h3>Î˜ÎµÏ‰ÏÎ¯Î± Î¥Ï€Î¿Î¼Î¿Î½Î®Ï‚</h3>
                    <p>ÎšÏ‰Î´: PSY-101 â€¢ Î¥Ï€Î¿Ï‡ÏÎµÏ‰Ï„Î¹ÎºÏŒ</p>
                    <span class="badge">ÎÎ­Î¿ Î¥Î»Î¹ÎºÏŒ</span>
                </div>
            </div>

            <div class="course-card" onclick="openCourse(2)">
                <div class="course-icon grad-2">ğŸ˜¶</div>
                <div class="course-info">
                    <h3>Î£Ï„ÏÎ±Ï„Î·Î³Î¹ÎºÎ­Ï‚ Î£Î¹Ï‰Ï€Î®Ï‚</h3>
                    <p>ÎšÏ‰Î´: COM-202 â€¢ Î•ÏÎ³Î±ÏƒÏ„Î®ÏÎ¹Î¿</p>
                </div>
            </div>

            <div class="course-card" onclick="openCourse(3)">
                <div class="course-icon grad-3">ğŸ¤¥</div>
                <div class="course-info">
                    <h3>Î‘Î½Î¬Î»Ï…ÏƒÎ· Î”Î¹ÎºÎ±Î¹Î¿Î»Î¿Î³Î¹ÏÎ½</h3>
                    <p>ÎšÏ‰Î´: LOG-303 â€¢ Î˜ÎµÏ‰ÏÎ¯Î±</p>
                </div>
            </div>

            <div class="course-card" onclick="openCourse(4)">
                <div class="course-icon grad-4">ğŸ§¹</div>
                <div class="course-info">
                    <h3>ÎŸÎ¹ÎºÎ¹Î±ÎºÎ® Î¤Î¬Î¾Î·</h3>
                    <p>ÎšÏ‰Î´: DOM-404 â€¢ Î•Ï€Î¹Î»Î¿Î³Î®Ï‚</p>
                </div>
            </div>

            <div style="margin: 25px 0; border-top: 1px dashed #ccc;"></div>

            <div class="course-card" onclick="openExamIntro()" style="border-left: 4px solid var(--danger);">
                <div class="course-icon grad-exam">âš ï¸</div>
                <div class="course-info">
                    <h3 style="color: var(--danger);">Î¤Î•Î›Î™ÎšÎ— Î•ÎÎ•Î¤Î‘Î£Î—</h3>
                    <p>Î‘Ï€Î±ÏÎ±Î¯Ï„Î·Ï„Î· Î³Î¹Î± Ï€ÏÎ¿Î±Î³Ï‰Î³Î®</p>
                    <span class="badge" style="background: #ffebee; color: var(--danger);">Deadline: Î¤Î©Î¡Î‘</span>
                </div>
            </div>
        </div>

        <div class="bottom-nav">
            <div class="nav-item">
                <svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8 8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>
                <span>Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ</span>
            </div>
            <div class="nav-item active">
                <svg viewBox="0 0 24 24"><path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"/></svg>
                <span>ÎœÎ±Î¸Î®Î¼Î±Ï„Î±</span>
            </div>
            <div class="nav-item">
                <svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z"/></svg>
                <span>ÎœÎ·Î½ÏÎ¼Î±Ï„Î±</span>
            </div>
        </div>
    </div>

    <div id="screen-course" class="screen">
        <div class="screen-header">
            <button class="back-btn" onclick="goBack()">â®</button>
            <div class="screen-title" id="course-header-text">Course Name</div>
        </div>
        <div class="content-area">
            
            <div class="prof-section">
                <div class="prof-label">Î”Î¹Î´Î±ÏƒÎºÏ‰Î½</div>
                <div class="prof-name">ğŸ‘¨â€ğŸ« ÎšÏÏÎ¹Î¿Ï‚ Î“ÎºÎ¹ÏÎºÎ±Ï‚</div>
                <p class="course-desc" id="course-desc-text">Description goes here.</p>
            </div>

            <h3 style="font-size: 15px; margin-bottom: 10px;">ğŸ“‚ Î•ÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÏŒ Î¥Î»Î¹ÎºÏŒ</h3>
            <div class="file-list" id="file-list-container">
                </div>

            <div class="question-portal">
                <div class="portal-title">
                    <span>ğŸ’¬</span> Î‘Ï€Î¿ÏÎ¯ÎµÏ‚ Ï€ÏÎ¿Ï‚ Ï„Î¿Î½ Î”Î¹Î´Î¬ÏƒÎºÎ¿Î½Ï„Î±
                </div>
                <textarea id="question-input" class="portal-input" placeholder="Î“ÏÎ¬ÏˆÎµ Ï„Î·Î½ Î±Ï€Î¿ÏÎ¯Î± ÏƒÎ¿Ï… ÎµÎ´Ï... (Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±: 'ÎœÏ€Î¿ÏÏ Î½Î± Ï†Î¬Ï‰ ÏƒÎ¿ÎºÎ¿Î»Î¬Ï„Î±;')"></textarea>
                <button class="send-btn" onclick="sendTelegramQuestion()">
                    <span id="btn-text">Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® Î•ÏÏÏ„Î·ÏƒÎ·Ï‚</span>
                    <span id="btn-loader" style="display:none;">â³</span>
                </button>
                <div style="font-size: 10px; color: #999; margin-top: 8px; text-align: center;">
                    *Î— Î±Ï€Î¿ÏÎ¯Î± ÏƒÏ„Î­Î»Î½ÎµÏ„Î±Î¹ Î¬Î¼ÎµÏƒÎ± ÏƒÏ„Î¿ ÎºÎ¹Î½Î·Ï„ÏŒ Ï„Î¿Ï… Î´Î¹Î´Î¬ÏƒÎºÎ¿Î½Ï„Î±.
                </div>
            </div>

        </div>
    </div>

    <div id="screen-doc" class="screen">
        <div class="screen-header">
            <button class="back-btn" onclick="closeDoc()">âœ•</button>
            <div class="screen-title">Î ÏÎ¿Î²Î¿Î»Î® Î‘ÏÏ‡ÎµÎ¯Î¿Ï…</div>
        </div>
        <div id="doc-content" style="height: 100%; overflow-y: auto;"></div>
    </div>

    <div id="screen-exam-intro" class="screen">
        <div class="screen-header">
            <button class="back-btn" onclick="goBack()">âœ•</button>
            <div class="screen-title" style="color: var(--danger);">ÎšÎ±Î½ÏŒÎ½ÎµÏ‚ Î•Î¾Î­Ï„Î±ÏƒÎ·Ï‚</div>
        </div>
        <div class="content-area">
            <div style="text-align: center; margin-bottom: 20px;">
                <div style="font-size: 50px;">âš–ï¸</div>
                <h2>Î Î¯Î½Î±ÎºÎ±Ï‚ Î Î¿Î¹Î½ÏÎ½ & Î‘Î¼Î¿Î¹Î²ÏÎ½</h2>
            </div>
            
            <table class="exam-score-table">
                <tr>
                    <td><strong>9 - 10</strong></td>
                    <td><span class="grade-pill" style="background: #2e7d32;">Î‘Î¡Î™Î£Î¤Î‘</span><br>Î”Î¹Î±Î»Î­Î³ÎµÎ¹Ï‚ ÏŒ,Ï„Î¹ Ï†Î±Î³Î·Ï„ÏŒ/Î³Î»Ï…ÎºÏŒ Î¸ÎµÏ‚!</td>
                </tr>
                <tr>
                    <td><strong>7 - 8</strong></td>
                    <td><span class="grade-pill" style="background: #66bb6a;">ÎšÎ‘Î›Î‘</span><br>ÎšÎµÏÎ´Î¯Î¶ÎµÎ¹Ï‚ Î¼Î¹Î± Î¼Î¹ÎºÏÎ® Î»Î¹Ï‡Î¿Ï…Î´Î¹Î¬.</td>
                </tr>
                <tr>
                    <td><strong>5 - 6</strong></td>
                    <td><span class="grade-pill" style="background: #ffa726;">ÎœÎ•Î¤Î¡Î™Î‘</span><br>Î“Î»Ï…Ï„ÏÎ½ÎµÎ¹Ï‚ Ï„Î·Î½ Ï„Î¹Î¼Ï‰ÏÎ¯Î± (Î¿ÏÎ¹Î±ÎºÎ¬).</td>
                </tr>
                <tr>
                    <td><strong>0 - 4</strong></td>
                    <td><span class="grade-pill" style="background: #c62828;">Î‘Î ÎŸÎ¤Î¥Î§Î™Î‘</span><br>Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î Î¿Î¹Î½Î®Ï‚.</td>
                </tr>
            </table>

            <button class="send-btn" style="background: var(--text-main); margin-top: 20px;" onclick="startQuiz()">Î•ÎšÎšÎ™ÎÎ—Î£Î— Î¤Î©Î¡Î‘</button>
        </div>
    </div>

    <div id="screen-quiz" class="screen">
        <div class="screen-header">
            <div class="screen-title">Î•Î¾Î­Ï„Î±ÏƒÎ·...</div>
        </div>
        <div class="content-area" id="quiz-area">
            </div>
    </div>

    <div id="toast" class="toast">
        <span>ğŸš€</span> <span id="toast-msg">Î¤Î¿ Î¼Î®Î½Ï…Î¼Î± ÏƒÏ„Î¬Î»Î¸Î·ÎºÎµ!</span>
    </div>

    <div id="result-overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:200; align-items:center; justify-content:center;">
        <div style="background:white; width:85%; max-width:350px; padding:30px; border-radius:20px; text-align:center;">
            <div id="res-emoji" style="font-size:60px; margin-bottom:10px;"></div>
            <h2 id="res-title" style="margin:0;"></h2>
            <p id="res-desc" style="color:#666; font-size:15px;"></p>
            <div id="res-reward" style="margin-top:20px; padding:15px; border-radius:10px; font-weight:bold; font-size:14px;"></div>
            <button onclick="location.reload()" style="margin-top:20px; border:none; background:#333; color:white; padding:12px 30px; border-radius:30px; font-weight:600;">Î•Î½Ï„Î¬Î¾ÎµÎ¹</button>
        </div>
    </div>

</div>

<script>
    // ==========================================
    // âš™ï¸ Î¡Î¥Î˜ÎœÎ™Î£Î•Î™Î£ TELEGRAM (Î£Î¥ÎœÎ Î›Î—Î¡Î©Î£Î• Î•Î”Î©)
    // ==========================================
    const TELEGRAM_BOT_TOKEN = "TO_TOKEN_SOY_EDW"; // Ï€.Ï‡. "123456789:ABCdefGHIjkl..."
    const TELEGRAM_CHAT_ID = "TO_ID_SOY_EDW";     // Ï€.Ï‡. "12345678"
    // ==========================================

    // --- DATA ---
    const courses = {
        1: {
            title: "Î˜ÎµÏ‰ÏÎ¯Î± Î¥Ï€Î¿Î¼Î¿Î½Î®Ï‚",
            desc: "ÎœÎ¬Î¸Î·Î¼Î± ÎºÎ¿ÏÎ¼Î¿Ï. Î‘Î½Î±Î»ÏÎ¿Ï…Î¼Îµ Î³Î¹Î±Ï„Î¯ Ï„Î¿ 'Ï†Ï„Î¬Î½Î¿Ï…Î¼Îµ;' ÎºÎ¬Î¸Îµ 5 Î»ÎµÏ€Ï„Î¬ Î¼ÎµÎ¹ÏÎ½ÎµÎ¹ Ï„Î¿ Ï€ÏÎ¿ÏƒÎ´ÏŒÎºÎ¹Î¼Î¿ Î¶Ï‰Î®Ï‚ Ï„Î¿Ï… Î¿Î´Î·Î³Î¿Ï.",
            files: [
                { title: "Î”Î¹Î¬Î»ÎµÎ¾Î· 1: Zen Mode", type: "slides", content: [
                    { t: "Î¥Î ÎŸÎœÎŸÎÎ—", b: "Î— Î±ÏÎµÏ„Î® Ï„Î¿Ï… Î½Î± Ï€ÎµÏÎ¹Î¼Î­Î½ÎµÎ¹Ï‚ Ï„Î¿ Ï†Î±Î³Î·Ï„ÏŒ Ï‡Ï‰ÏÎ¯Ï‚ Î½Î± Î³ÎºÏÎ¹Î½Î¹Î¬Î¶ÎµÎ¹Ï‚." },
                    { t: "Î‘ÎÎ‘Î ÎÎŸÎ•Î£", b: "Î•Î¹ÏƒÏ€Î½Î¿Î®... Î•ÎºÏ€Î½Î¿Î®... Î”ÎµÎ½ Ï†Ï‰Î½Î¬Î¶Î¿Ï…Î¼Îµ ÏŒÏ„Î±Î½ Ï‡Î¬Î½ÎµÎ¹ Î· Î¿Î¼Î¬Î´Î±." }
                ]},
                { title: "Î†ÏÎ¸ÏÎ¿: Î— Ï„Î­Ï‡Î½Î· Ï„Î·Ï‚ Î±Î½Î±Î¼Î¿Î½Î®Ï‚", type: "doc", content: "<h2>Î— Î¤Î­Ï‡Î½Î· Ï„Î·Ï‚ Î‘Î½Î±Î¼Î¿Î½Î®Ï‚</h2><p>ÎŒÏ„Î±Î½ Î¿ ÎšÏÏÎ¹Î¿Ï‚ Î“ÎºÎ¹ÏÎºÎ±Ï‚ Î»Î­ÎµÎ¹ '5 Î»ÎµÏ€Ï„Î¬', ÎµÎ½Î½Î¿ÎµÎ¯ 5 Î»ÎµÏ€Ï„Î¬ (Î® 15). Î¤Î¿ Ï€Î±Î½ ÎµÎ¯Î½Î±Î¹ Î· ÎµÎ¼Ï€Î¹ÏƒÏ„Î¿ÏƒÏÎ½Î·.</p>" }
            ]
        },
        2: {
            title: "Î£Ï„ÏÎ±Ï„Î·Î³Î¹ÎºÎ­Ï‚ Î£Î¹Ï‰Ï€Î®Ï‚",
            desc: "Î ÏŒÏ„Îµ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î¼Î¹Î»Î¬Î¼Îµ ÎºÎ±Î¹ Ï€ÏŒÏ„Îµ ÏŒÏ‡Î¹. Î•Î¹Î´Î¹ÎºÎ® ÎµÎ½ÏŒÏ„Î·Ï„Î±: 'ÎÏÎ± Champions League'.",
            files: [
                { title: "ÎšÎ±Î½ÏŒÎ½ÎµÏ‚ ÎŸÎ¼Î¹Î»Î¯Î±Ï‚", type: "doc", content: "<h2>ÎšÎ±Î½ÏŒÎ½ÎµÏ‚</h2><ul><li>ÎŒÏ‡Î¹ ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚ ÏƒÏ„Î¿ 90'.</li><li>ÎŒÏ‡Î¹ 'Ï€Î¿Î¹Î¿Ï‚ ÎµÎ¯Î½Î±Î¹ Î±Ï…Ï„ÏŒÏ‚' ÏŒÏ„Î±Î½ Î²Î»Î­Ï€Î¿Ï…Î¼Îµ Ï„Î±Î¹Î½Î¯Î±.</li></ul>" }
            ]
        },
        3: {
            title: "Î‘Î½Î¬Î»Ï…ÏƒÎ· Î”Î¹ÎºÎ±Î¹Î¿Î»Î¿Î³Î¹ÏÎ½",
            desc: "Î“Î¹Î±Ï„Î¯ Ï„Î¿ 'Î¼Îµ Ï€ÏŒÎ½ÎµÏƒÎµ Ï„Î¿ ÎºÎµÏ†Î¬Î»Î¹' Î´ÎµÎ½ Ï€Î¹Î¬Î½ÎµÎ¹ Ï€Î»Î­Î¿Î½.",
            files: [
                { title: "Top 10 Î‘Ï€Î¿Ï„Ï…Ï‡Î¯ÎµÏ‚", type: "slides", content: [
                    { t: "FAIL #1", b: "'Î”ÎµÎ½ Ï„Î¿ Î¬ÎºÎ¿Ï…ÏƒÎ±'. ÎšÎ»Î±ÏƒÎ¹ÎºÏŒ ÏˆÎ­Î¼Î±." },
                    { t: "FAIL #2", b: "'ÎÏŒÎ¼Î¹Î¶Î± Ï„Î¿ Î­ÎºÎ±Î½ÎµÏ‚ ÎµÏƒÏ'. ÎœÎµÏ„Î±Ï„ÏŒÏ€Î¹ÏƒÎ· ÎµÏ…Î¸ÏÎ½Î·Ï‚." }
                ]}
            ]
        },
        4: {
            title: "ÎŸÎ¹ÎºÎ¹Î±ÎºÎ® Î¤Î¬Î¾Î·",
            desc: "Î— ÎºÎ±ÏÎ­ÎºÎ»Î± Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ Î½Ï„Î¿Ï…Î»Î¬Ï€Î±. Î¤Î¿ Ï€Î¬Ï„Ï‰Î¼Î± Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ ÏÎ¬Ï†Î¹.",
            files: [
                { title: "Î§Î¬ÏÏ„Î·Ï‚ Î£Ï€Î¹Ï„Î¹Î¿Ï", type: "doc", content: "<h2>Î§Î¬ÏÏ„Î·Ï‚</h2><p>Î¤Î± Ï€Î±Ï€Î¿ÏÏ„ÏƒÎ¹Î± Ï€Î¬Î½Îµ ÏƒÏ„Î·Î½ Ï€Î±Ï€Î¿Ï…Ï„ÏƒÎ¿Î¸Î®ÎºÎ·. Î¤Î± Î¬Ï€Î»Ï…Ï„Î± ÏƒÏ„Î¿ ÎºÎ±Î»Î¬Î¸Î¹. Î‘Ï€Î»Î¬ Ï€ÏÎ¬Î³Î¼Î±Ï„Î±.</p>" }
            ]
        }
    };

    let currentCourseId = null;

    // --- NAVIGATION ---
    function openCourse(id) {
        currentCourseId = id;
        const c = courses[id];
        document.getElementById('course-header-text').innerText = c.title;
        document.getElementById('course-desc-text').innerText = c.desc;
        
        const list = document.getElementById('file-list-container');
        list.innerHTML = '';
        
        c.files.forEach(f => {
            const div = document.createElement('div');
            div.className = 'file-item';
            div.innerHTML = `
                <div class="file-icon-box" style="color:${f.type==='slides'?'#e91e63':'#3f51b5'}">${f.type==='slides'?'ğŸ“Š':'ğŸ“„'}</div>
                <div style="flex:1">
                    <div style="font-weight:600; font-size:14px;">${f.title}</div>
                    <div style="font-size:11px; color:#999;">${f.type==='slides'?'Î Î±ÏÎ¿Ï…ÏƒÎ¯Î±ÏƒÎ·':'ÎˆÎ³Î³ÏÎ±Ï†Î¿'}</div>
                </div>
            `;
            div.onclick = () => openFile(f);
            list.appendChild(div);
        });

        document.getElementById('screen-course').classList.add('active');
    }

    function goBack() {
        document.getElementById('screen-course').classList.remove('active');
        document.getElementById('screen-exam-intro').classList.remove('active');
        document.getElementById('screen-quiz').classList.remove('active');
        // Clear input
        document.getElementById('question-input').value = "";
    }

    // --- TELEGRAM SENDING LOGIC ---
    async function sendTelegramQuestion() {
        const input = document.getElementById('question-input');
        const text = input.value.trim();
        const btnText = document.getElementById('btn-text');
        const loader = document.getElementById('btn-loader');
        
        if (!text) {
            showToast("âŒ Î“ÏÎ¬ÏˆÎµ ÎºÎ¬Ï„Î¹ Ï€ÏÏÏ„Î±!");
            return;
        }

        // UI Loading State
        btnText.style.display = 'none';
        loader.style.display = 'inline';

        const courseName = courses[currentCourseId].title;
        const message = `ğŸ“š *Î•Î¡Î©Î¤Î—Î£Î— ÎœÎ‘Î˜Î—ÎœÎ‘Î¤ÎŸÎ£*\n\nğŸ“Œ ÎœÎ¬Î¸Î·Î¼Î±: _${courseName}_\n\nâ“ Î•ÏÏÏ„Î·ÏƒÎ·:\n${text}`;

        const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
        
        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    chat_id: TELEGRAM_CHAT_ID,
                    text: message,
                    parse_mode: "Markdown"
                })
            });

            const data = await response.json();

            if (data.ok) {
                showToast("âœ… Î— Î±Ï€Î¿ÏÎ¯Î± ÏƒÏ„Î¬Î»Î¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚!");
                input.value = "";
            } else {
                showToast("âŒ Î£Ï†Î¬Î»Î¼Î± Î±Ï€Î¿ÏƒÏ„Î¿Î»Î®Ï‚ (Î›Î¬Î¸Î¿Ï‚ Token;)");
                console.error(data);
            }
        } catch (error) {
            showToast("âŒ Î£Ï†Î¬Î»Î¼Î± Î´Î¹ÎºÏ„ÏÎ¿Ï….");
            console.error(error);
        }

        // Reset UI
        btnText.style.display = 'inline';
        loader.style.display = 'none';
    }

    function showToast(msg) {
        const t = document.getElementById('toast');
        document.getElementById('toast-msg').innerText = msg;
        t.classList.add('show');
        setTimeout(() => t.classList.remove('show'), 3000);
    }

    // --- FILE VIEWERS ---
    function openFile(file) {
        const container = document.getElementById('doc-content');
        container.innerHTML = '';

        if (file.type === 'doc') {
            container.innerHTML = `<div class="doc-page">${file.content}</div>`;
        } else {
            // Simple Slides Viewer
            let html = `<div class="slide-wrapper">`;
            file.content.forEach((s, i) => {
                html += `
                    <div class="slide-card" style="margin-bottom:20px;">
                        <h2 style="color:var(--primary);">${s.t}</h2>
                        <div style="font-size:18px;">${s.b}</div>
                        <div style="position:absolute; bottom:10px; right:20px; color:#ccc; font-size:12px;">Slide ${i+1}</div>
                    </div>
                `;
            });
            html += `</div>`;
            container.innerHTML = html;
        }
        document.getElementById('screen-doc').classList.add('active');
    }

    function closeDoc() {
        document.getElementById('screen-doc').classList.remove('active');
    }

    // --- EXAM LOGIC ---
    function openExamIntro() {
        document.getElementById('screen-exam-intro').classList.add('active');
    }

    function startQuiz() {
        const quizHTML = `
            <div style="padding:20px;">
                ${createQ(1, "Î‘Î½ Î¼Î¿Ï… Î¶Î·Ï„Î®ÏƒÎµÎ¹Ï‚ Ï‡Î¬ÏÎ· ÎºÎ±Î¹ Ï€Ï‰ 'ÏŒÏ‡Î¹', Ï„Î¹ ÎºÎ¬Î½ÎµÎ¹Ï‚;", ["Î“ÎºÏÎ¹Î½Î¹Î¬Î¶Ï‰", "Î¤Î¿ Î´Î­Ï‡Î¿Î¼Î±Î¹ ÏƒÎ¹Ï‰Ï€Î·ÏÎ¬ (Î£Ï‰ÏƒÏ„ÏŒ)", "Î£Î¿Ï… ÎºÎ¬Î½Ï‰ Î¼Î¿ÏÏ„ÏÎ±"], 1)}
                ${createQ(2, "Î Î¿Î¹Î¿Ï‚ Î´Î¹Î±Î»Î­Î³ÎµÎ¹ Ï„Î±Î¹Î½Î¯Î±;", ["Î•ÏƒÏ", "Î•Î³Ï (Î“ÎºÎ¹ÏÎºÎ±Ï‚) (Î£Ï‰ÏƒÏ„ÏŒ)", "ÎšÎ»Î®ÏÏ‰ÏƒÎ·"], 1)}
                ${createQ(3, "Î¤Î¹ ÏÏÎ± ÎµÎ¯Î½Î±Î¹ Ï„Î¿ '5 Î»ÎµÏ€Ï„Î¬';", ["5 Î»ÎµÏ€Ï„Î¬", "ÎœÎ¹ÏƒÎ® ÏÏÎ±", "ÎŒÏ€Î¿Ï„Îµ ÎµÎ¯Î¼Î±Î¹ Î­Ï„Î¿Î¹Î¼Î· (Î›Î¬Î¸Î¿Ï‚)"], 0)}
                ${createQ(4, "Î‘Î½ Ï€ÎµÎ¹Î½Î¬Ï‰ ÎºÎ±Î¹ Î´ÎµÎ½ Î­Ï‡ÎµÎ¹Ï‚ Î¼Î±Î³ÎµÎ¹ÏÎ­ÏˆÎµÎ¹;", ["Î Î±ÏÎ±Î³Î³Î­Î»Î½Î¿Ï…Î¼Îµ (Î£Ï‰ÏƒÏ„ÏŒ)", "Î¤ÏÏ‰Ï‚ Ï„Î¿ÏƒÏ„", "ÎÎ·ÏƒÏ„ÎµÏÎµÎ¹Ï‚"], 0)}
                ${createQ(5, "ÎœÎµ Î±Î³Î±Ï€Î¬Ï‚;", ["ÎÎ±Î¹ (Î£Ï‰ÏƒÏ„ÏŒ)", "Î Î¿Î»Ï (Î£Ï‰ÏƒÏ„ÏŒ)", "Î†Ï€ÎµÎ¹ÏÎ± (Î£Ï‰ÏƒÏ„ÏŒ)"], 0)}
                
                <button class="send-btn" style="background:var(--danger); margin-top:20px;" onclick="submitQuiz()">Î¥Î ÎŸÎ’ÎŸÎ›Î—</button>
            </div>
        `;
        document.getElementById('quiz-area').innerHTML = quizHTML;
        document.getElementById('screen-quiz').classList.add('active');
    }

    function createQ(id, txt, opts, correctIdx) {
        let html = `<div style="background:white; padding:15px; border-radius:12px; margin-bottom:15px; border:1px solid #eee;">
            <div style="font-weight:600; margin-bottom:10px;">${id}. ${txt}</div>`;
        opts.forEach((o, i) => {
            // Using value=2 for correct (simple logic)
            // Real logic handles specifically below, keeping simple for demo
            let val = (i === correctIdx || id===5) ? 2 : 0; 
            html += `<label style="display:block; margin:8px 0; color:#555;">
                <input type="radio" name="q${id}" value="${val}"> ${o}
            </label>`;
        });
        html += `</div>`;
        return html;
    }

    function submitQuiz() {
        // Calculate score
        let score = 0;
        for (let i=1; i<=5; i++) {
            const els = document.getElementsByName(`q${i}`);
            for (let el of els) {
                if (el.checked) score += parseInt(el.value);
            }
        }

        const overlay = document.getElementById('result-overlay');
        const emoji = document.getElementById('res-emoji');
        const title = document.getElementById('res-title');
        const desc = document.getElementById('res-desc');
        const reward = document.getElementById('res-reward');

        overlay.style.display = "flex";

        if (score >= 9) {
            emoji.innerText = "ğŸ†"; title.innerText = "Î‘Î¡Î™Î£Î¤Î‘ (10/10)"; 
            title.style.color = "#2e7d32"; desc.innerText = "Î•Î¯ÏƒÎ±Î¹ Î· ÎºÎ±Î»ÏÏ„ÎµÏÎ· Ï†Î¿Î¹Ï„Î®Ï„ÏÎ¹Î± Ï„Î¿Ï… ÎºÏŒÏƒÎ¼Î¿Ï…!";
            reward.style.background = "#e8f5e9"; reward.style.color = "#2e7d32";
            reward.innerText = "ğŸ Î•Î Î‘Î˜Î›ÎŸ: Î”Î¹Î¬Î»ÎµÎ¾Îµ ÏŒ,Ï„Î¹ Î¸ÎµÏ‚ Î½Î± Ï†Î¬Î¼Îµ!";
        } else if (score >= 5) {
             emoji.innerText = "ğŸ˜"; title.innerText = "ÎœÎ•Î¤Î¡Î™Î‘..."; 
             title.style.color = "#ffa726"; desc.innerText = "Î Î­ÏÎ±ÏƒÎµÏ‚, Î±Î»Î»Î¬ Î¸Î­Î»ÎµÎ¹ Î´Î¹Î¬Î²Î±ÏƒÎ¼Î±.";
             reward.style.background = "#fff3e0"; reward.style.color = "#f57c00";
             reward.innerText = "ğŸ›¡ï¸ Î”ÎµÎ½ Î­Ï‡ÎµÎ¹ Ï„Î¹Î¼Ï‰ÏÎ¯Î±, Î±Î»Î»Î¬ Î¿ÏÏ„Îµ Î³Î»Ï…ÎºÏŒ.";
        } else {
             emoji.innerText = "ğŸ’€"; title.innerText = "ÎšÎŸÎ Î—ÎšÎ•Î£!"; 
             title.style.color = "#c62828"; desc.innerText = "Î‘Ï€Î±ÏÎ¬Î´ÎµÎºÏ„Î· ÏƒÏ…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬.";
             reward.style.background = "#ffebee"; reward.style.color = "#c62828";
             reward.innerText = "ğŸ§¹ Î ÎŸÎ™ÎÎ—: Î Î»ÏÏƒÎ¹Î¼Î¿ Ï€Î¹Î¬Ï„Ï‰Î½ ÏƒÎ®Î¼ÎµÏÎ±!";
        }
    }
</script>

</body>
</html>
